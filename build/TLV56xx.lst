ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"TLV56xx.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.TLV56xx_Write,"ax",%progbits
  18              		.align	1
  19              		.global	TLV56xx_Write
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	TLV56xx_Write:
  26              	.LFB124:
  27              		.file 1 "Core/Src/TLV56xx.c"
   1:Core/Src/TLV56xx.c **** #include "TLV56xx.h"
   2:Core/Src/TLV56xx.c **** 
   3:Core/Src/TLV56xx.c **** void TLV56xx_GPIO_Init()
   4:Core/Src/TLV56xx.c **** {
   5:Core/Src/TLV56xx.c ****     GPIO_InitTypeDef TLV_InitStruct = {0};
   6:Core/Src/TLV56xx.c **** 
   7:Core/Src/TLV56xx.c ****     __HAL_RCC_GPIOC_CLK_ENABLE();
   8:Core/Src/TLV56xx.c **** 
   9:Core/Src/TLV56xx.c ****     HAL_GPIO_DeInit(GPIOTLV, GPIO_DIN | GPIO_SCK | GPIO_FS | GPIO_LOAD | GPIO_FRE);
  10:Core/Src/TLV56xx.c **** 
  11:Core/Src/TLV56xx.c ****     TLV_InitStruct.Pin = GPIO_DIN | GPIO_SCK | GPIO_FS | GPIO_LOAD | GPIO_FRE;
  12:Core/Src/TLV56xx.c ****     TLV_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  13:Core/Src/TLV56xx.c ****     TLV_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  14:Core/Src/TLV56xx.c ****     TLV_InitStruct.Pull = GPIO_NOPULL;
  15:Core/Src/TLV56xx.c **** 
  16:Core/Src/TLV56xx.c ****     HAL_GPIO_Init(GPIOTLV, &TLV_InitStruct);
  17:Core/Src/TLV56xx.c **** 
  18:Core/Src/TLV56xx.c ****     GPIO_DIN_ReSet;
  19:Core/Src/TLV56xx.c ****     GPIO_SCK_ReSet;
  20:Core/Src/TLV56xx.c ****     GPIO_FS_ReSet;
  21:Core/Src/TLV56xx.c ****     GPIO_LOAD_ReSet;
  22:Core/Src/TLV56xx.c ****     HAL_Delay(50);
  23:Core/Src/TLV56xx.c **** 
  24:Core/Src/TLV56xx.c ****     GPIO_LOAD_Set;
  25:Core/Src/TLV56xx.c ****     GPIO_FRE_Set;
  26:Core/Src/TLV56xx.c **** 
  27:Core/Src/TLV56xx.c ****     HAL_Delay(50);
  28:Core/Src/TLV56xx.c **** 
  29:Core/Src/TLV56xx.c ****     TLV56xx_WriteAll(0);
  30:Core/Src/TLV56xx.c **** }
  31:Core/Src/TLV56xx.c **** 
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 2


  32:Core/Src/TLV56xx.c **** void TLV56xx_Write(const uint16_t cmd)
  33:Core/Src/TLV56xx.c **** {
  28              		.loc 1 33 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 3, -16
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  40 0002 0446     		mov	r4, r0
  41              	.LVL1:
  34:Core/Src/TLV56xx.c ****     uint16_t cmd_t = cmd & 0xffff;
  35:Core/Src/TLV56xx.c **** 
  36:Core/Src/TLV56xx.c ****     // GPIO_LOAD_Set;
  37:Core/Src/TLV56xx.c ****     GPIO_FS_Set;
  42              		.loc 1 37 0
  43 0004 1A4D     		ldr	r5, .L9
  44 0006 0122     		movs	r2, #1
  45 0008 0421     		movs	r1, #4
  46 000a 2846     		mov	r0, r5
  47              	.LVL2:
  48 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
  49              	.LVL3:
  38:Core/Src/TLV56xx.c ****     GPIO_FS_ReSet;
  50              		.loc 1 38 0
  51 0010 0022     		movs	r2, #0
  52 0012 0421     		movs	r1, #4
  53 0014 2846     		mov	r0, r5
  54 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
  55              	.LVL4:
  56              	.LBB2:
  39:Core/Src/TLV56xx.c ****     for (int i = 0; i < 16; ++i)
  57              		.loc 1 39 0
  58 001a 0025     		movs	r5, #0
  59 001c 0CE0     		b	.L2
  60              	.LVL5:
  61              	.L8:
  40:Core/Src/TLV56xx.c ****     {
  41:Core/Src/TLV56xx.c ****         GPIO_SCK_Set;
  42:Core/Src/TLV56xx.c ****         if (cmd_t & 0x8000)
  43:Core/Src/TLV56xx.c ****             GPIO_DIN_Set;
  62              		.loc 1 43 0
  63 001e 0122     		movs	r2, #1
  64 0020 1146     		mov	r1, r2
  65 0022 1348     		ldr	r0, .L9
  66 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
  67              	.LVL6:
  68              	.L4:
  44:Core/Src/TLV56xx.c ****         else
  45:Core/Src/TLV56xx.c ****             GPIO_DIN_ReSet;
  46:Core/Src/TLV56xx.c ****         cmd_t <<= 1;
  69              		.loc 1 46 0 discriminator 2
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 3


  70 0028 6400     		lsls	r4, r4, #1
  71              	.LVL7:
  72 002a A4B2     		uxth	r4, r4
  73              	.LVL8:
  47:Core/Src/TLV56xx.c ****         GPIO_SCK_ReSet;
  74              		.loc 1 47 0 discriminator 2
  75 002c 0022     		movs	r2, #0
  76 002e 0221     		movs	r1, #2
  77 0030 0F48     		ldr	r0, .L9
  78 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
  79              	.LVL9:
  39:Core/Src/TLV56xx.c ****     {
  80              		.loc 1 39 0 discriminator 2
  81 0036 0135     		adds	r5, r5, #1
  82              	.LVL10:
  83              	.L2:
  39:Core/Src/TLV56xx.c ****     {
  84              		.loc 1 39 0 is_stmt 0 discriminator 1
  85 0038 0F2D     		cmp	r5, #15
  86 003a 0DDC     		bgt	.L7
  41:Core/Src/TLV56xx.c ****         if (cmd_t & 0x8000)
  87              		.loc 1 41 0 is_stmt 1
  88 003c 0122     		movs	r2, #1
  89 003e 0221     		movs	r1, #2
  90 0040 0B48     		ldr	r0, .L9
  91 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
  92              	.LVL11:
  42:Core/Src/TLV56xx.c ****             GPIO_DIN_Set;
  93              		.loc 1 42 0
  94 0046 14F4004F 		tst	r4, #32768
  95 004a E8D1     		bne	.L8
  45:Core/Src/TLV56xx.c ****         cmd_t <<= 1;
  96              		.loc 1 45 0
  97 004c 0022     		movs	r2, #0
  98 004e 0121     		movs	r1, #1
  99 0050 0748     		ldr	r0, .L9
 100 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 101              	.LVL12:
 102 0056 E7E7     		b	.L4
 103              	.L7:
 104              	.LBE2:
  48:Core/Src/TLV56xx.c ****     }
  49:Core/Src/TLV56xx.c ****     GPIO_FS_Set;
 105              		.loc 1 49 0
 106 0058 054C     		ldr	r4, .L9
 107              	.LVL13:
 108 005a 0122     		movs	r2, #1
 109 005c 0421     		movs	r1, #4
 110 005e 2046     		mov	r0, r4
 111 0060 FFF7FEFF 		bl	HAL_GPIO_WritePin
 112              	.LVL14:
  50:Core/Src/TLV56xx.c ****     GPIO_LOAD_ReSet;
 113              		.loc 1 50 0
 114 0064 0022     		movs	r2, #0
 115 0066 0821     		movs	r1, #8
 116 0068 2046     		mov	r0, r4
 117 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 4


 118              	.LVL15:
  51:Core/Src/TLV56xx.c ****     // GPIO_LOAD_Set;
  52:Core/Src/TLV56xx.c **** }
 119              		.loc 1 52 0
 120 006e 38BD     		pop	{r3, r4, r5, pc}
 121              	.LVL16:
 122              	.L10:
 123              		.align	2
 124              	.L9:
 125 0070 00080240 		.word	1073874944
 126              		.cfi_endproc
 127              	.LFE124:
 129              		.section	.text.TLV56xx_Update,"ax",%progbits
 130              		.align	1
 131              		.global	TLV56xx_Update
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv4-sp-d16
 137              	TLV56xx_Update:
 138              	.LFB125:
  53:Core/Src/TLV56xx.c **** 
  54:Core/Src/TLV56xx.c **** void TLV56xx_Update(void)
  55:Core/Src/TLV56xx.c **** {
 139              		.loc 1 55 0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143 0000 10B5     		push	{r4, lr}
 144              	.LCFI1:
 145              		.cfi_def_cfa_offset 8
 146              		.cfi_offset 4, -8
 147              		.cfi_offset 14, -4
  56:Core/Src/TLV56xx.c ****     GPIO_FS_Set;
 148              		.loc 1 56 0
 149 0002 064C     		ldr	r4, .L13
 150 0004 0122     		movs	r2, #1
 151 0006 0421     		movs	r1, #4
 152 0008 2046     		mov	r0, r4
 153 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 154              	.LVL17:
  57:Core/Src/TLV56xx.c ****     GPIO_LOAD_ReSet;
 155              		.loc 1 57 0
 156 000e 0022     		movs	r2, #0
 157 0010 0821     		movs	r1, #8
 158 0012 2046     		mov	r0, r4
 159 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 160              	.LVL18:
  58:Core/Src/TLV56xx.c **** }
 161              		.loc 1 58 0
 162 0018 10BD     		pop	{r4, pc}
 163              	.L14:
 164 001a 00BF     		.align	2
 165              	.L13:
 166 001c 00080240 		.word	1073874944
 167              		.cfi_endproc
 168              	.LFE125:
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 5


 170              		.section	.text.TLV56xx_WriteChannelDAC,"ax",%progbits
 171              		.align	1
 172              		.global	TLV56xx_WriteChannelDAC
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 176              		.fpu fpv4-sp-d16
 178              	TLV56xx_WriteChannelDAC:
 179              	.LFB127:
  59:Core/Src/TLV56xx.c **** 
  60:Core/Src/TLV56xx.c **** void TLV56xx_WriteAll(const uint16_t val)
  61:Core/Src/TLV56xx.c **** {
  62:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch1, val);
  63:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch2, val);
  64:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch3, val);
  65:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch4, val);
  66:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch5, val);
  67:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch6, val);
  68:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch7, val);
  69:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch8, val);
  70:Core/Src/TLV56xx.c **** }
  71:Core/Src/TLV56xx.c **** 
  72:Core/Src/TLV56xx.c **** void TLV56xx_WriteChannelDAC(enum channel ch, const uint16_t val)
  73:Core/Src/TLV56xx.c **** {
 180              		.loc 1 73 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              	.LVL19:
 185 0000 08B5     		push	{r3, lr}
 186              	.LCFI2:
 187              		.cfi_def_cfa_offset 8
 188              		.cfi_offset 3, -8
 189              		.cfi_offset 14, -4
 190              	.LVL20:
  74:Core/Src/TLV56xx.c ****     uint16_t cmd = 0;
  75:Core/Src/TLV56xx.c ****     cmd = ((ch & 0xf) << 12) & 0xf000;
 191              		.loc 1 75 0
 192 0002 0303     		lsls	r3, r0, #12
 193 0004 98B2     		uxth	r0, r3
 194              	.LVL21:
  76:Core/Src/TLV56xx.c ****     if ((val <= 0xfff) && (val >= 0))
 195              		.loc 1 76 0
 196 0006 B1F5805F 		cmp	r1, #4096
 197 000a 04D2     		bcs	.L16
  77:Core/Src/TLV56xx.c ****         cmd |= (val & 0xfff);
 198              		.loc 1 77 0
 199 000c C1F30B01 		ubfx	r1, r1, #0, #12
 200              	.LVL22:
 201 0010 41EA0300 		orr	r0, r1, r3
 202              	.LVL23:
 203 0014 80B2     		uxth	r0, r0
 204              	.LVL24:
 205              	.L16:
  78:Core/Src/TLV56xx.c ****     TLV56xx_Write(cmd);
 206              		.loc 1 78 0
 207 0016 FFF7FEFF 		bl	TLV56xx_Write
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 6


 208              	.LVL25:
  79:Core/Src/TLV56xx.c **** }
 209              		.loc 1 79 0
 210 001a 08BD     		pop	{r3, pc}
 211              		.cfi_endproc
 212              	.LFE127:
 214              		.section	.text.TLV56xx_WriteAll,"ax",%progbits
 215              		.align	1
 216              		.global	TLV56xx_WriteAll
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 220              		.fpu fpv4-sp-d16
 222              	TLV56xx_WriteAll:
 223              	.LFB126:
  61:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch1, val);
 224              		.loc 1 61 0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              	.LVL26:
 229 0000 10B5     		push	{r4, lr}
 230              	.LCFI3:
 231              		.cfi_def_cfa_offset 8
 232              		.cfi_offset 4, -8
 233              		.cfi_offset 14, -4
 234 0002 0446     		mov	r4, r0
  62:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch2, val);
 235              		.loc 1 62 0
 236 0004 0146     		mov	r1, r0
 237 0006 0020     		movs	r0, #0
 238              	.LVL27:
 239 0008 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 240              	.LVL28:
  63:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch3, val);
 241              		.loc 1 63 0
 242 000c 2146     		mov	r1, r4
 243 000e 0120     		movs	r0, #1
 244 0010 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 245              	.LVL29:
  64:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch4, val);
 246              		.loc 1 64 0
 247 0014 2146     		mov	r1, r4
 248 0016 0220     		movs	r0, #2
 249 0018 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 250              	.LVL30:
  65:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch5, val);
 251              		.loc 1 65 0
 252 001c 2146     		mov	r1, r4
 253 001e 0320     		movs	r0, #3
 254 0020 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 255              	.LVL31:
  66:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch6, val);
 256              		.loc 1 66 0
 257 0024 2146     		mov	r1, r4
 258 0026 0420     		movs	r0, #4
 259 0028 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 7


 260              	.LVL32:
  67:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch7, val);
 261              		.loc 1 67 0
 262 002c 2146     		mov	r1, r4
 263 002e 0520     		movs	r0, #5
 264 0030 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 265              	.LVL33:
  68:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch8, val);
 266              		.loc 1 68 0
 267 0034 2146     		mov	r1, r4
 268 0036 0620     		movs	r0, #6
 269 0038 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 270              	.LVL34:
  69:Core/Src/TLV56xx.c **** }
 271              		.loc 1 69 0
 272 003c 2146     		mov	r1, r4
 273 003e 0720     		movs	r0, #7
 274 0040 FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 275              	.LVL35:
  70:Core/Src/TLV56xx.c **** 
 276              		.loc 1 70 0
 277 0044 10BD     		pop	{r4, pc}
 278              		.cfi_endproc
 279              	.LFE126:
 281              		.section	.text.TLV56xx_GPIO_Init,"ax",%progbits
 282              		.align	1
 283              		.global	TLV56xx_GPIO_Init
 284              		.syntax unified
 285              		.thumb
 286              		.thumb_func
 287              		.fpu fpv4-sp-d16
 289              	TLV56xx_GPIO_Init:
 290              	.LFB123:
   4:Core/Src/TLV56xx.c ****     GPIO_InitTypeDef TLV_InitStruct = {0};
 291              		.loc 1 4 0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 24
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295 0000 70B5     		push	{r4, r5, r6, lr}
 296              	.LCFI4:
 297              		.cfi_def_cfa_offset 16
 298              		.cfi_offset 4, -16
 299              		.cfi_offset 5, -12
 300              		.cfi_offset 6, -8
 301              		.cfi_offset 14, -4
 302 0002 86B0     		sub	sp, sp, #24
 303              	.LCFI5:
 304              		.cfi_def_cfa_offset 40
   5:Core/Src/TLV56xx.c **** 
 305              		.loc 1 5 0
 306 0004 0024     		movs	r4, #0
 307 0006 0194     		str	r4, [sp, #4]
 308 0008 0294     		str	r4, [sp, #8]
 309 000a 0394     		str	r4, [sp, #12]
 310 000c 0494     		str	r4, [sp, #16]
 311 000e 0594     		str	r4, [sp, #20]
 312              	.LBB3:
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 8


   7:Core/Src/TLV56xx.c **** 
 313              		.loc 1 7 0
 314 0010 0094     		str	r4, [sp]
 315 0012 214B     		ldr	r3, .L22
 316 0014 1A6B     		ldr	r2, [r3, #48]
 317 0016 42F00402 		orr	r2, r2, #4
 318 001a 1A63     		str	r2, [r3, #48]
 319 001c 1B6B     		ldr	r3, [r3, #48]
 320 001e 03F00403 		and	r3, r3, #4
 321 0022 0093     		str	r3, [sp]
 322 0024 009B     		ldr	r3, [sp]
 323              	.LBE3:
   9:Core/Src/TLV56xx.c **** 
 324              		.loc 1 9 0
 325 0026 1D4D     		ldr	r5, .L22+4
 326 0028 1F21     		movs	r1, #31
 327 002a 2846     		mov	r0, r5
 328 002c FFF7FEFF 		bl	HAL_GPIO_DeInit
 329              	.LVL36:
  11:Core/Src/TLV56xx.c ****     TLV_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 330              		.loc 1 11 0
 331 0030 1F23     		movs	r3, #31
 332 0032 0193     		str	r3, [sp, #4]
  12:Core/Src/TLV56xx.c ****     TLV_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 333              		.loc 1 12 0
 334 0034 0126     		movs	r6, #1
 335 0036 0296     		str	r6, [sp, #8]
  13:Core/Src/TLV56xx.c ****     TLV_InitStruct.Pull = GPIO_NOPULL;
 336              		.loc 1 13 0
 337 0038 0323     		movs	r3, #3
 338 003a 0493     		str	r3, [sp, #16]
  14:Core/Src/TLV56xx.c **** 
 339              		.loc 1 14 0
 340 003c 0394     		str	r4, [sp, #12]
  16:Core/Src/TLV56xx.c **** 
 341              		.loc 1 16 0
 342 003e 01A9     		add	r1, sp, #4
 343 0040 2846     		mov	r0, r5
 344 0042 FFF7FEFF 		bl	HAL_GPIO_Init
 345              	.LVL37:
  18:Core/Src/TLV56xx.c ****     GPIO_SCK_ReSet;
 346              		.loc 1 18 0
 347 0046 2246     		mov	r2, r4
 348 0048 3146     		mov	r1, r6
 349 004a 2846     		mov	r0, r5
 350 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 351              	.LVL38:
  19:Core/Src/TLV56xx.c ****     GPIO_FS_ReSet;
 352              		.loc 1 19 0
 353 0050 2246     		mov	r2, r4
 354 0052 0221     		movs	r1, #2
 355 0054 2846     		mov	r0, r5
 356 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
 357              	.LVL39:
  20:Core/Src/TLV56xx.c ****     GPIO_LOAD_ReSet;
 358              		.loc 1 20 0
 359 005a 2246     		mov	r2, r4
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 9


 360 005c 0421     		movs	r1, #4
 361 005e 2846     		mov	r0, r5
 362 0060 FFF7FEFF 		bl	HAL_GPIO_WritePin
 363              	.LVL40:
  21:Core/Src/TLV56xx.c ****     HAL_Delay(50);
 364              		.loc 1 21 0
 365 0064 2246     		mov	r2, r4
 366 0066 0821     		movs	r1, #8
 367 0068 2846     		mov	r0, r5
 368 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
 369              	.LVL41:
  22:Core/Src/TLV56xx.c **** 
 370              		.loc 1 22 0
 371 006e 3220     		movs	r0, #50
 372 0070 FFF7FEFF 		bl	HAL_Delay
 373              	.LVL42:
  24:Core/Src/TLV56xx.c ****     GPIO_FRE_Set;
 374              		.loc 1 24 0
 375 0074 3246     		mov	r2, r6
 376 0076 0821     		movs	r1, #8
 377 0078 2846     		mov	r0, r5
 378 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 379              	.LVL43:
  25:Core/Src/TLV56xx.c **** 
 380              		.loc 1 25 0
 381 007e 3246     		mov	r2, r6
 382 0080 1021     		movs	r1, #16
 383 0082 2846     		mov	r0, r5
 384 0084 FFF7FEFF 		bl	HAL_GPIO_WritePin
 385              	.LVL44:
  27:Core/Src/TLV56xx.c **** 
 386              		.loc 1 27 0
 387 0088 3220     		movs	r0, #50
 388 008a FFF7FEFF 		bl	HAL_Delay
 389              	.LVL45:
  29:Core/Src/TLV56xx.c **** }
 390              		.loc 1 29 0
 391 008e 2046     		mov	r0, r4
 392 0090 FFF7FEFF 		bl	TLV56xx_WriteAll
 393              	.LVL46:
  30:Core/Src/TLV56xx.c **** 
 394              		.loc 1 30 0
 395 0094 06B0     		add	sp, sp, #24
 396              	.LCFI6:
 397              		.cfi_def_cfa_offset 16
 398              		@ sp needed
 399 0096 70BD     		pop	{r4, r5, r6, pc}
 400              	.L23:
 401              		.align	2
 402              	.L22:
 403 0098 00380240 		.word	1073887232
 404 009c 00080240 		.word	1073874944
 405              		.cfi_endproc
 406              	.LFE123:
 408              		.section	.text.TLV56xx_WriteChannelVoltage,"ax",%progbits
 409              		.align	1
 410              		.global	TLV56xx_WriteChannelVoltage
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 10


 411              		.syntax unified
 412              		.thumb
 413              		.thumb_func
 414              		.fpu fpv4-sp-d16
 416              	TLV56xx_WriteChannelVoltage:
 417              	.LFB128:
  80:Core/Src/TLV56xx.c **** 
  81:Core/Src/TLV56xx.c **** void TLV56xx_WriteChannelVoltage(enum channel ch, const uint16_t voltage_mv)
  82:Core/Src/TLV56xx.c **** {
 418              		.loc 1 82 0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              	.LVL47:
 423 0000 08B5     		push	{r3, lr}
 424              	.LCFI7:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 3, -8
 427              		.cfi_offset 14, -4
 428              	.LVL48:
  83:Core/Src/TLV56xx.c ****     uint16_t voltage_t = voltage_mv;
  84:Core/Src/TLV56xx.c ****     if (voltage_t > 5000)
 429              		.loc 1 84 0
 430 0002 41F28833 		movw	r3, #5000
 431 0006 9942     		cmp	r1, r3
 432 0008 00D9     		bls	.L25
  85:Core/Src/TLV56xx.c ****         voltage_t = 5000;
 433              		.loc 1 85 0
 434 000a 1946     		mov	r1, r3
 435              	.LVL49:
 436              	.L25:
  86:Core/Src/TLV56xx.c ****     uint16_t dac_val = (uint16_t)(((float)(voltage_t * 0xfff)) / VOLTAGE_REF_VAL);
 437              		.loc 1 86 0
 438 000c C1EB0131 		rsb	r1, r1, r1, lsl #12
 439              	.LVL50:
 440 0010 07EE901A 		vmov	s15, r1	@ int
 441 0014 F8EEE77A 		vcvt.f32.s32	s15, s15
 442 0018 DFED056A 		vldr.32	s13, .L28
 443 001c 87EEA67A 		vdiv.f32	s14, s15, s13
 444 0020 FCEEC77A 		vcvt.u32.f32	s15, s14
 445              	.LVL51:
  87:Core/Src/TLV56xx.c ****     TLV56xx_WriteChannelDAC(ch, dac_val);
 446              		.loc 1 87 0
 447 0024 17EE903A 		vmov	r3, s15	@ int
 448 0028 99B2     		uxth	r1, r3
 449 002a FFF7FEFF 		bl	TLV56xx_WriteChannelDAC
 450              	.LVL52:
  88:Core/Src/TLV56xx.c **** }
 451              		.loc 1 88 0
 452 002e 08BD     		pop	{r3, pc}
 453              	.L29:
 454              		.align	2
 455              	.L28:
 456 0030 00409C45 		.word	1167867904
 457              		.cfi_endproc
 458              	.LFE128:
 460              		.section	.text.TLV56xx_WriteCmd,"ax",%progbits
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 11


 461              		.align	1
 462              		.global	TLV56xx_WriteCmd
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 466              		.fpu fpv4-sp-d16
 468              	TLV56xx_WriteCmd:
 469              	.LFB129:
  89:Core/Src/TLV56xx.c **** 
  90:Core/Src/TLV56xx.c **** void TLV56xx_WriteCmd()
  91:Core/Src/TLV56xx.c **** {
 470              		.loc 1 91 0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 474 0000 08B5     		push	{r3, lr}
 475              	.LCFI8:
 476              		.cfi_def_cfa_offset 8
 477              		.cfi_offset 3, -8
 478              		.cfi_offset 14, -4
 479              	.LVL53:
  92:Core/Src/TLV56xx.c ****     uint16_t ctrl0 = 0;
  93:Core/Src/TLV56xx.c ****     uint16_t ctrl1 = 0;
  94:Core/Src/TLV56xx.c ****     ctrl0 |= 0x8000;
  95:Core/Src/TLV56xx.c ****     ctrl1 |= 0x9000;
  96:Core/Src/TLV56xx.c **** 
  97:Core/Src/TLV56xx.c ****     struct TLV56xx_SettingTypeDef setting = {0};
  98:Core/Src/TLV56xx.c ****     setting.isPowerOn = fullDeviceOn;
  99:Core/Src/TLV56xx.c ****     setting.isDigitalOutPut = false;
 100:Core/Src/TLV56xx.c ****     setting.inPutMode = inPutModeStraightBin;
 101:Core/Src/TLV56xx.c ****     setting.isDACPairPowerOn = powerDAC_AB | powerDAC_CD | powerDAC_EF | powerDAC_GH;
 102:Core/Src/TLV56xx.c ****     setting.DACPairSpeed = speedHigh_DAC_AB | speedHigh_DAC_CD | speedHigh_DAC_EF | speedHigh_DAC_G
 103:Core/Src/TLV56xx.c **** 
 104:Core/Src/TLV56xx.c ****     ctrl0 |= (0x01 & setting.inPutMode) | (setting.isDigitalOutPut & 0x08) | (0x10 & setting.isPowe
 105:Core/Src/TLV56xx.c **** 
 106:Core/Src/TLV56xx.c ****     ctrl1 |= (setting.DACPairSpeed & 0X0F) | ((~setting.isDACPairPowerOn) & 0xf0);
 107:Core/Src/TLV56xx.c **** 
 108:Core/Src/TLV56xx.c ****     TLV56xx_Write(ctrl0);
 480              		.loc 1 108 0
 481 0002 4FF40040 		mov	r0, #32768
 482 0006 FFF7FEFF 		bl	TLV56xx_Write
 483              	.LVL54:
 109:Core/Src/TLV56xx.c ****     TLV56xx_Write(ctrl1);
 484              		.loc 1 109 0
 485 000a 49F20F00 		movw	r0, #36879
 486 000e FFF7FEFF 		bl	TLV56xx_Write
 487              	.LVL55:
 110:Core/Src/TLV56xx.c **** }...
 488              		.loc 1 110 0
 489 0012 08BD     		pop	{r3, pc}
 490              		.cfi_endproc
 491              	.LFE129:
 493              		.text
 494              	.Letext0:
 495              		.file 2 "c:\\msys64\\home\\63143\\gcc-arm-none-eabi-7-2018-q2-update-win32\\arm-none-eabi\\include
 496              		.file 3 "c:\\msys64\\home\\63143\\gcc-arm-none-eabi-7-2018-q2-update-win32\\arm-none-eabi\\include
 497              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 12


 498              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 499              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 500              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 501              		.file 8 "Core/Inc/TLV56xx.h"
 502              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\63143\AppData\Local\Temp\ccox4XUg.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 TLV56xx.c
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:18     .text.TLV56xx_Write:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:25     .text.TLV56xx_Write:00000000 TLV56xx_Write
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:125    .text.TLV56xx_Write:00000070 $d
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:130    .text.TLV56xx_Update:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:137    .text.TLV56xx_Update:00000000 TLV56xx_Update
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:166    .text.TLV56xx_Update:0000001c $d
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:171    .text.TLV56xx_WriteChannelDAC:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:178    .text.TLV56xx_WriteChannelDAC:00000000 TLV56xx_WriteChannelDAC
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:215    .text.TLV56xx_WriteAll:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:222    .text.TLV56xx_WriteAll:00000000 TLV56xx_WriteAll
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:282    .text.TLV56xx_GPIO_Init:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:289    .text.TLV56xx_GPIO_Init:00000000 TLV56xx_GPIO_Init
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:403    .text.TLV56xx_GPIO_Init:00000098 $d
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:409    .text.TLV56xx_WriteChannelVoltage:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:416    .text.TLV56xx_WriteChannelVoltage:00000000 TLV56xx_WriteChannelVoltage
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:456    .text.TLV56xx_WriteChannelVoltage:00000030 $d
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:461    .text.TLV56xx_WriteCmd:00000000 $t
C:\Users\63143\AppData\Local\Temp\ccox4XUg.s:468    .text.TLV56xx_WriteCmd:00000000 TLV56xx_WriteCmd

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_DeInit
HAL_GPIO_Init
HAL_Delay
